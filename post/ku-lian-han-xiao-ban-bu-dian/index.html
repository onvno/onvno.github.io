<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>苦练含笑半步癫 | 夏虫语冰</title>
<link rel="shortcut icon" href="https://onvno.github.io/favicon.ico?v=1710599872485">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://onvno.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="苦练含笑半步癫 | 夏虫语冰 - Atom Feed" href="https://onvno.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="——SPS新版最后说明
&quot;v2版本很快不再支持，我给大家最后一次机会，开发者，时间不多咯。&quot;
如果没被Google反复恫吓，估计我是不会再升级的，看着2024年6月可能的最后通牒，还是做了一次v3模式升级——4.0.x，..." />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://onvno.github.io">
  <img class="avatar" src="https://onvno.github.io/images/avatar.png?v=1710599872485" alt="">
  </a>
  <h1 class="site-title">
    夏虫语冰
  </h1>
  <p class="site-description">
    飘飘何所似，天地一沙鸥
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              苦练含笑半步癫
            </h2>
            <div class="post-info">
              <span>
                2024-03-16
              </span>
              <span>
                8 min read
              </span>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p>——SPS新版最后说明</p>
<p>&quot;v2版本很快不再支持，我给大家最后一次机会，开发者，时间不多咯。&quot;<br>
如果没被Google反复恫吓，估计我是不会再升级的，看着2024年6月可能的最后通牒，还是做了一次v3模式升级——4.0.x，是SPS的最后一个版本，后边只会零星抽空改几个bug。</p>
<p>对于升级，硬要说些表里不一的话，那就是担心几万用户的使用。但其实更是担心自己再也用不上这么方便的扩展，所以，升级是完全出于私心的。而恰好你也喜欢SPS，那你要好好感谢SPS这位头号粉丝，完全不用感谢那位累得像狗一样的开发者。（具体用户多少，我不清楚，除了Chrome浏览器是我自己上传，后台可以看到2w5左右，其他平台都非我上传）。</p>
<p>最后一个版本，既是对SPS的告别，也是彻底给SPS做一次答疑，毕竟多年前还扭扭捏捏藏彩蛋，没把所有功能展现出。</p>
<p>注意：为了有更好阅读体验，本文中所有图片或动图，都是对图片上边的文字做一个演示说明，除非有特殊说明。</p>
<h3 id="sps可以做什么">SPS可以做什么</h3>
<ul>
<li>可以听音乐，可以听广播，可以听播客，可以听白噪音</li>
<li>只需要通过左上的切换图标即可，进行搜索试听</li>
<li>白噪音需要从顶部点击才会出现，这是之前的彩蛋<br>
<img src="https://onvno.github.io/post-images/1710596353123.gif" alt="" loading="lazy"></li>
</ul>
<h3 id="sps让人欣喜的功能">SPS让人欣喜的功能</h3>
<ul>
<li>简洁，后台播放，在浏览器中只占用一个图标位即可。</li>
<li>歌词精选，中文歌曲来说，曲占一半，文字意境也能占上一半（注：此处不包含流水线歌曲、纯口水歌曲），希望你能喜欢。</li>
<li>省事，可以听的内容比较多，不喜欢听歌，也可以听听其他，不用来回应用切换，适合像我一样的打工仔。</li>
<li>油管，反应是慢一些，但总归还是能听，懂得科学上网的同学，耐心等一等即可听到。</li>
</ul>
<h3 id="sps怎么使用">SPS怎么使用？</h3>
<p>因为太简洁，一些功能的发现就像玩游戏，需要自己探索。早期很长一段时间，加我联系方式的，总是反复的问相同问题，为什么声音不能调，为什么只能单曲循环，为什么歌词不能展示？真是这样弱鸡吗，我不信！<br>
<img src="https://onvno.github.io/post-images/1710597114850.gif" alt="" loading="lazy"></p>
<p><strong>SPS不支持声音调节？</strong></p>
<p>支持，确实不够显眼，因为设置了透明度，在搜索框下边。请盯住以下图片2秒，告诉我哪里有声音调节。音乐播放器的音量调节，我始终坚持，需要弱化，不接受反驳（我的地盘听我的 — 周杰伦）。<br>
<img src="https://onvno.github.io/post-images/1710596703440.png" alt="" loading="lazy"></p>
<p><strong>SPS只能搜索5条结果？</strong></p>
<p>默认是5条，但还是请看上一张图，再盯着它看2秒。请告诉我，如果你想搜索周杰伦，并返回20条结果，该怎么输入。我猜可以这么来：”周杰伦##20“，是不是感受到了一种扑面而来的恶意。<br>
<img src="https://onvno.github.io/post-images/1710596833648.jpg" alt="" loading="lazy"></p>
<p><strong>SPS只能单曲循环？</strong></p>
<p>对，也不对。</p>
<ul>
<li>对，搜索出的歌曲，点击播放按钮后，只能进行单曲循环。原因是SPS的出现，只是为了方便快速找到自己喜欢的歌，并，单曲循环，这是它的头号粉丝的要求。</li>
<li>也不对，发布后太多用户想要列表播放，所以增加了一个收藏功能。收藏后的歌曲，在收藏列表鼠标移动上去，就可以选择”顺序“或者”乱序“播放。但是，阿祖，不要妄图把你们在各种站点的歌单转移过来，因为使用了<code>chrome.storage.sync</code>功能。高级点说，他可以在你登录Chrome浏览器的不同设备间，同步收藏歌曲信息，香，真香。但是它又有限制，最多也就能够存储40来条数据。<br>
<img src="https://onvno.github.io/post-images/1710596884631.gif" alt="" loading="lazy"></li>
</ul>
<p><strong>SPS不支持歌词播放？</strong></p>
<p>其实很早版本，用户都能看到有歌词的功能了，只要使用网易或者QQ播放，大部分歌词功能是可以正常播放的。但是，它是使用了Chrome的提醒功能，也就是说它在不同系统上的表现可能不一致，比如在Mac上，它就是通知提醒的样式。是的，用了这个提醒功能展示歌词，在Windows上，可能会在收起的通知栏里，展示效果不明。</p>
<p>在4.0.0,使用chrome v3带来的side panel，现在可以把这个交互统一了，但是它依赖你的chrome版本，貌似应该最低Chrome 114，歌词交互做的很简陋。<br>
<img src="https://onvno.github.io/post-images/1710597450234.png" alt="" loading="lazy"></p>
<p><strong>SPS为什么没有开源</strong></p>
<p>这个没啥可说，就是因为代码狗屎，没脸见人。最早SPS只是2018年春节假期的一个歌曲试听产物，支持网易、QQ、虾米音乐试听，没收藏，没排行榜，没FM，没白噪音，没有试听外的一切，所以无需框架，老夫上来就是一把梭。<br>
<img src="https://onvno.github.io/post-images/1710596981247.webp" alt="" loading="lazy"></p>
<p>后来承蒙各路听众厚爱，功能一发不可收拾，加上工作又忙，屎山代码直窜天际。再有就是见证了虾米、音悦台关闭，migu也不能再白嫖周杰伦，这些代码中下线的逻辑，依然牢牢地附着在在SPS目录中，臭不可闻。</p>
<p>在改造底层v3版本的这段日子，也深深的被Google的Service Worker模式狠狠地恶心到。往日background简单直给的模式不再支持，恰恰就是把SPS最方便的后台播放功能阉割了，于是忍臭含泪完成了4.0升级，使用了offscreen功能。</p>
<p>怎么描述v3的升级，把原先popup和background小情侣的关系，硬是搞成了popup - service worker - offscreen的第三者插足模式，关键是这个第三者service worker还不稳定，时常会因为要考虑内存占用昏昏睡去，你总得踢他几脚，跟他喊话，喂喂喂，service worker，该起来干活了，他才能正常运行起来，所有你懂的，又有不少逻辑添加。当然，作为用户你们可以乐观一点，你看，每个使用SPS的用户，你们就是周扒皮，半夜学鸡叫，让service worker一刻不得闲。</p>
<p>现在4.0在提交审核过程中，决心已明，只要顺利过审，相信我，这坨屎山我是不愿再碰，当年写下的每一行代码，都是历史的技术债，回旋镖般的直刺心窝。为什么不去愚公移山，虽然这是技术话题，但是当我们说到愚公移山，就知道移山改造的成本超过我所能承受。</p>
<p><strong>SPS关于音乐版权？</strong></p>
<p>SPS在扩展的说明中，第一次安装时的弹窗提醒就做了明确说明，SPS本身就是试听，不提供歌曲下载，不提供付费破解，不提供歌单拉取。如果版权方要求下线，完全可以通过平台联系，毫不犹豫，是的，毫不犹豫，直接下线转为自用。</p>
<p><strong>SPS已知bug有哪些</strong></p>
<ul>
<li>新增bilibili的片段播放不支持
<ul>
<li>解决办法：无，放心你们用不到的，这个片段播放只是给我自己的功能。苦一苦我自己，想要的时候我会送给自己。</li>
</ul>
</li>
<li>歌词使用sidepanel功能有时候弹不出
<ul>
<li>解决办法：收起扩展再点开扩展，重复点击&quot;词&quot;icon，就这么简单，和电脑问题关机重启一样，总会解决一半苦恼。</li>
</ul>
</li>
</ul>
<p><strong>末尾</strong></p>
<p>从2018年初SPS上线，已经六年过去了，除了早期占用了不少休息时间，后边也只是工作之余看心情修修补补。4.0后不再考虑继续更新SPS，除了屎山代码，更主要还是失去了对云音乐的热情。</p>
<p>音乐越来越被束缚在盒子里，眼见一个一个平台倒下，音乐版权越来越集中，已经无需讨好观众，只管收起免费歌曲，换上VIP标志开启收费模式，而每月的花费也不过短暂的租借模式。过往多年都是网易云或者QQ、Kugou的音乐VIP会员，去年尝试了一年去VIP化，发现即便越来越多付费的都听不上，回归网络前时代的本地化，未尝不是一个好办法，毕竟歌曲我更喜欢陈年老歌。</p>
<p>所以，云音乐，你好，再见。</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#sps%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%BB%80%E4%B9%88">SPS可以做什么</a></li>
<li><a href="#sps%E8%AE%A9%E4%BA%BA%E6%AC%A3%E5%96%9C%E7%9A%84%E5%8A%9F%E8%83%BD">SPS让人欣喜的功能</a></li>
<li><a href="#sps%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8">SPS怎么使用？</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://onvno.github.io/post/wei-liao-zhe-dian-cu-bao-liao-dun-jiao-zi/">
              <h3 class="post-title">
                为了这点醋，包了顿饺子
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://onvno.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
